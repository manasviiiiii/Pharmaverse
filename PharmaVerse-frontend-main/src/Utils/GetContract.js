import Web3 from "web3";
import CONSTANTS from "./Constants";
// const CONTRACT_BUILD = require("./Abis.json");

export const web3 = new Web3(window.web3 && window.web3.currentProvider);

const GetContract = async () => {

  // console.log("Get contarct called");

  const AdminContract = new web3.eth.Contract(
    [{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"_account","type":"address"}],"name":"addInspector","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"}],"name":"addManufacturer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"}],"name":"addSupplier","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"}],"name":"addTransporter","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"}],"name":"addWholesaler","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"admin","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"inspectors","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"manufacturers","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"}],"name":"removeInspector","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"}],"name":"removeManufacturer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"}],"name":"removeSupplier","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"}],"name":"removeTransporter","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"}],"name":"removeWholesaler","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"suppliers","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"transporters","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_newAdmin","type":"address"}],"name":"updateAdmin","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"wholesalers","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}],
    CONSTANTS.ADMINADDRESS
  );
  const InventoryContract = new web3.eth.Contract(
    [{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_description","type":"string"},{"internalType":"string","name":"_ipfs_hash","type":"string"},{"internalType":"uint256","name":"_quantity","type":"uint256"}],"name":"addRawMaterial","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_materialId","type":"uint256"},{"internalType":"uint256","name":"_desiredQuantity","type":"uint256"}],"name":"checkAvailability","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_materialId","type":"uint256"},{"internalType":"uint256","name":"_quantityToDeduct","type":"uint256"}],"name":"decreaseQuantity","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_materialId","type":"uint256"},{"internalType":"uint256","name":"_additionalQuantity","type":"uint256"}],"name":"increaseQuantity","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"materialCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"rawMaterials","outputs":[{"internalType":"uint256","name":"materialId","type":"uint256"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"string","name":"ipfs_hash","type":"string"},{"internalType":"uint256","name":"quantity","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_materialId","type":"uint256"},{"internalType":"string","name":"_newName","type":"string"},{"internalType":"string","name":"_newDescription","type":"string"},{"internalType":"string","name":"_newIpfsHash","type":"string"},{"internalType":"uint256","name":"_newQuantity","type":"uint256"}],"name":"updateRawMaterial","outputs":[],"stateMutability":"nonpayable","type":"function"}],
    CONSTANTS.INVENTORYADDRESS
  );

  const InspectorContract = new web3.eth.Contract(
    [{"inputs":[{"internalType":"address","name":"_supplierAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"_packageid","type":"uint256"},{"internalType":"string","name":"_description","type":"string"},{"internalType":"uint256[]","name":"_quantity","type":"uint256[]"},{"internalType":"uint256[]","name":"concentration","type":"uint256[]"}],"name":"checkquality","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"packageReports","outputs":[{"internalType":"uint256","name":"packageid","type":"uint256"},{"internalType":"string","name":"description","type":"string"},{"internalType":"uint256","name":"grade","type":"uint256"},{"internalType":"uint256","name":"timestamp","type":"uint256"},{"internalType":"address","name":"inspectorId","type":"address"},{"internalType":"bool","name":"isApproved","type":"bool"}],"stateMutability":"view","type":"function"}],
    CONSTANTS.INSPECTORADDRESS
  );

  const ManufacturerContract = new web3.eth.Contract(
    [{"inputs":[{"internalType":"address","name":"_batchSchedulerAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"batchCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"batches","outputs":[{"internalType":"uint256","name":"batchId","type":"uint256"},{"internalType":"address","name":"manufacturerId","type":"address"},{"internalType":"address","name":"transporterId","type":"address"},{"internalType":"address","name":"wholesalerId","type":"address"},{"internalType":"uint256","name":"manufacturingDate","type":"uint256"},{"internalType":"enum Manufacturer.Stages","name":"stage","type":"uint8"},{"internalType":"uint256","name":"score","type":"uint256"},{"internalType":"address","name":"inspectorId","type":"address"},{"internalType":"enum Manufacturer.InspectionStages","name":"InspectionStage","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"_medicineIds","type":"uint256[]"},{"internalType":"uint256[]","name":"_medicineQuantities","type":"uint256[]"},{"internalType":"uint256","name":"estimatedCost","type":"uint256"},{"internalType":"uint256","name":"productionRatePerDay","type":"uint256"},{"internalType":"uint256[]","name":"_idealstage1conditions","type":"uint256[]"},{"internalType":"uint256[]","name":"_idealstage2conditions","type":"uint256[]"},{"internalType":"uint256[]","name":"_idealpackagingconditions","type":"uint256[]"},{"internalType":"address","name":"_inspectorId","type":"address"},{"internalType":"address","name":"_transporterId","type":"address"},{"internalType":"address","name":"_wholesalerId","type":"address"}],"name":"createBatch","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_description","type":"string"},{"internalType":"string","name":"_ipfs_hash","type":"string"}],"name":"createMedicine","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_batchId","type":"uint256"}],"name":"getBatchId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_batchId","type":"uint256"}],"name":"getBatches","outputs":[{"components":[{"internalType":"uint256","name":"batchId","type":"uint256"},{"internalType":"uint256[]","name":"medicineIds","type":"uint256[]"},{"internalType":"uint256[]","name":"medicineQuantities","type":"uint256[]"},{"internalType":"address","name":"manufacturerId","type":"address"},{"internalType":"address","name":"transporterId","type":"address"},{"internalType":"address","name":"wholesalerId","type":"address"},{"internalType":"uint256","name":"manufacturingDate","type":"uint256"},{"internalType":"enum Manufacturer.Stages","name":"stage","type":"uint8"},{"internalType":"uint256","name":"score","type":"uint256"},{"internalType":"uint256[]","name":"idealstage1conditions","type":"uint256[]"},{"internalType":"uint256[]","name":"idealstage2conditions","type":"uint256[]"},{"internalType":"uint256[]","name":"idealpackagingconditions","type":"uint256[]"},{"internalType":"address","name":"inspectorId","type":"address"},{"internalType":"enum Manufacturer.InspectionStages","name":"InspectionStage","type":"uint8"}],"internalType":"struct Manufacturer.Batch","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_batchId","type":"uint256"},{"internalType":"uint256","name":"_stage","type":"uint256"}],"name":"getIdealStageCondition","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"medicineCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"medicines","outputs":[{"internalType":"uint256","name":"medicineId","type":"uint256"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"uint256","name":"totalQuantity","type":"uint256"},{"internalType":"string","name":"ipfs_hash","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_batchId","type":"uint256"},{"internalType":"uint256","name":"_newStage","type":"uint256"}],"name":"updateBatchStage","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_batchId","type":"uint256"},{"internalType":"uint256","name":"_newStage","type":"uint256"}],"name":"updateInspectionStage","outputs":[],"stateMutability":"nonpayable","type":"function"}],
    CONSTANTS.MANUFACTURERADDRESS
  );

  const BatchSchedulerContract = new web3.eth.Contract(
    [{"inputs":[{"internalType":"uint256","name":"productionRatePerDay","type":"uint256"},{"internalType":"uint256","name":"estimatedCost","type":"uint256"},{"internalType":"uint256[]","name":"medicineQuantities","type":"uint256[]"}],"name":"calculateScore","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"}],
    CONSTANTS.BATCHSCHEDULERADDRESS
  );

  const RealTimeMonitoringContract = new web3.eth.Contract(
    [{"inputs":[{"internalType":"address","name":"_manufacturerAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"batchReports","outputs":[{"internalType":"uint256","name":"batchId","type":"uint256"},{"internalType":"uint256","name":"stage","type":"uint256"},{"internalType":"uint256","name":"batchReportResult","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_batchId","type":"uint256"},{"internalType":"uint256","name":"stage","type":"uint256"},{"internalType":"uint256[]","name":"stagecondition","type":"uint256[]"}],"name":"recordBatchReport","outputs":[],"stateMutability":"nonpayable","type":"function"}],
    CONSTANTS.REALTIMEMONITORINGADDRESS
  );

  const SupplierContract = new web3.eth.Contract(
    [{"inputs":[{"internalType":"address","name":"_inventoryAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"_packageId","type":"uint256"}],"name":"getRawMaterialPackage","outputs":[{"components":[{"internalType":"uint256","name":"packageId","type":"uint256"},{"internalType":"uint256[]","name":"rawMaterialsIds","type":"uint256[]"},{"internalType":"uint256[]","name":"rawMaterialsQuantities","type":"uint256[]"},{"internalType":"string","name":"description","type":"string"},{"internalType":"address","name":"manufacturerId","type":"address"},{"internalType":"address","name":"transporterId","type":"address"},{"internalType":"address","name":"supplierId","type":"address"},{"internalType":"address","name":"inspectorId","type":"address"},{"internalType":"enum Supplier.Stages","name":"stage","type":"uint8"}],"internalType":"struct Supplier.RawMaterialPackage","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"packageCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"rawMaterialPackages","outputs":[{"internalType":"uint256","name":"packageId","type":"uint256"},{"internalType":"string","name":"description","type":"string"},{"internalType":"address","name":"manufacturerId","type":"address"},{"internalType":"address","name":"transporterId","type":"address"},{"internalType":"address","name":"supplierId","type":"address"},{"internalType":"address","name":"inspectorId","type":"address"},{"internalType":"enum Supplier.Stages","name":"stage","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"_rawMaterialsIds","type":"uint256[]"},{"internalType":"uint256[]","name":"_rawMaterialsQuantities","type":"uint256[]"},{"internalType":"string","name":"_description","type":"string"},{"internalType":"address","name":"_manufacturerId","type":"address"},{"internalType":"address","name":"_transporterId","type":"address"},{"internalType":"address","name":"_supplierId","type":"address"},{"internalType":"address","name":"_inspectorId","type":"address"}],"name":"requestRawMaterialPackage","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_packageId","type":"uint256"},{"internalType":"uint256","name":"_newStage","type":"uint256"}],"name":"updatePackageStage","outputs":[],"stateMutability":"nonpayable","type":"function"}],
    CONSTANTS.SUPPLIERADDRESS
  );

  

  const TransporterContract = new web3.eth.Contract(
    [{"inputs":[{"internalType":"address","name":"_supplierAddress","type":"address"},{"internalType":"address","name":"_manufacturerAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"batchDeliveries","outputs":[{"internalType":"uint256","name":"batchId","type":"uint256"},{"internalType":"address","name":"manufacturerId","type":"address"},{"internalType":"address","name":"transporterId","type":"address"},{"internalType":"uint256","name":"deliveryTimestamp","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"packageDeliveries","outputs":[{"internalType":"uint256","name":"packageId","type":"uint256"},{"internalType":"address","name":"supplierId","type":"address"},{"internalType":"address","name":"transporterId","type":"address"},{"internalType":"uint256","name":"deliveryTimestamp","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_batchId","type":"uint256"}],"name":"recordBatchDelivery","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_packageId","type":"uint256"}],"name":"recordPackageDelivery","outputs":[],"stateMutability":"nonpayable","type":"function"}],
    CONSTANTS.TRANSPORTERADDRESS
  );


  // console.log("Admin contract:", AdminContract);
  // console.log("Inventory contract:", InventoryContract);
  // console.log("Supplier contract:", SupplierContract);
  // console.log("Inspector contract:", InspectorContract);
  // console.log("Manufacturer contract:", ManufacturerContract);
  // console.log("BatchScheduler contract:", BatchSchedulerContract);
  // console.log("RealTimeMonitoring contract:", RealTimeMonitoringContract);
  // console.log("Transporter contract:", TransporterContract);

  // console.log("Get contarct end");
  
  return {
    success: true,
    data: {
      AdminContract: { AdminContract },
      InventoryContract: { InventoryContract },
      InspectorContract: { InspectorContract },
      ManufacturerContract: { ManufacturerContract },
      BatchSchedulerContract: { BatchSchedulerContract },
      RealTimeMonitoringContract: { RealTimeMonitoringContract }, 
      SupplierContract: { SupplierContract },
      TransporterContract: { TransporterContract },
      
    },
  };
};

export default GetContract;
